<h1 align ="center">需求规格说明</h1>

[TOC]

# 1. 项目概况

## 1.1. 项目题目

“懂知帝”知识问答平台——需求规格说明

## 1.2. 组员信息

| 成员   | 学号      |
| ------ | --------- |
| 张卓楠 | 181830249 |
| 刘学卓 | 181250088 |
| 陈子合 | 181250019 |
| 梁鋆亮 | 181250081 |

## 1.3. 度量数值

- 概念类图：17个
- 顺序图：16个
- 状态图：16个
- 需求跟踪矩阵：37点
- 约束：3个
- 假设与依赖：6个
- 刺激响应序列与相关功能需求：16个
- 非功能需求：39个

## 1.4. 工作概要与内容框架

**工作概要**

我们将本次作业分成两个阶段完成，第一阶段是完成需求分析，建立各个用例的概念类图、顺序图与状态图，帮助我们理解各个用例中数据的关联与系统的交互行为和状态转换。然后根据需求获取文档与各个分析模型描述各个用例的刺激响应序列以及相关的功能需求。第二阶段是完成非功能需求的描述，然后小组成员对需求进行确认与验证，确认与验证完成后建立需求跟踪矩阵，最后对整个文档进行总体审核，然后交付给甲方进行确认。

**内容框架**

分析模型：概念类图，顺序图，状态图

需求跟踪矩阵：需求列表，跟踪矩阵

软件需求规格说明：总体描述，对外接口需求，功能需求，性能需求，约束，质量属性，其他需求

# 2. 分析模型

## 2.1. 概念类图 

总的概念类图如下图所示，描述了各个用例的各个类之间的关联。

![总概念类图](.\UML图\概念类图\总概念类图.png)

### 2.1.1 用户提问

下图为**用户提问**的概念类图，描述了用户提问用例过程中各个概念类的关系。目的是发现用户提问用例的各个对象，并建立对象之间的关联。

![](https://zzn-normal.oss-cn-beijing.aliyuncs.com/Pics/1-%E7%94%A8%E6%88%B7%E6%8F%90%E9%97%AE-%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)

问题列表由问题聚合而成，用户申请提问并编写提问模板并发布问题。

### 2.1.2 问题搜索

下图为**问题搜索**的概念类图，描述了问题搜索用例过程中各个概念类的关系。目的是发现问题搜索用例的各个对象，并建立对象之间的关联。

![](https://zzn-normal.oss-cn-beijing.aliyuncs.com/Pics/2-%E9%97%AE%E9%A2%98%E6%90%9C%E7%B4%A2-%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)

问题列表由问题聚合而成，用户申请提问并搜索内容，推荐榜单根据搜索内容进行推荐。

### 2.1.3 邀请用户回答

下图为**邀请用户回答**的概念类图，描述了用户回答用例过程中各个概念类的关系。目的是发现用户回答用例的各个对象，并建立对象之间的关联。

![](https://zzn-normal.oss-cn-beijing.aliyuncs.com/Pics/3-%E9%82%80%E8%AF%B7%E7%94%A8%E6%88%B7%E5%9B%9E%E7%AD%94-%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)

专家列表由部分用户聚合而成，而其他用户邀请回答，向专家发起邀请。

### 2.1.4 自动生成回答

下图为**自动生成回答**的概念类图，描述了自动生成回答用例过程中各个概念类的关系。目的是发现自动生成回答用例的各个对象，并建立对象之间的关联。

![](https://zzn-normal.oss-cn-beijing.aliyuncs.com/Pics/4-%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E5%9B%9E%E7%AD%94-%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)

由问题自动生成回答的概念类展示。

### 2.1.5 浏览回答

下图为浏览回答用例的概念类图，描述了浏览回答用例中的各个概念类的关系。目的是发现浏览问答用例的各个对象，并建立对象之间的关联。

![5-浏览问答-概念类图](.\UML图\概念类图\5-浏览问答-概念类图.png)

问题列表与问题之间是聚合的关系，一个问题列表下包含多个问题。问题与回答之间是聚合的关系，一个问题下包含多个回答。用户可以逐级向下详细浏览：先浏览问题列表，再选定问题进行浏览，再选定某一回答进行详细浏览。

### 2.1.6 用户评论

下图为用户评论用例的概念类图，描述了用户评论用例中的各个概念类的关系。目的是发现用户评论用例的各个对象，并建立对象之间的关联。

![6-用户评论-概念类图](.\UML图\概念类图\6-用户评论-概念类图.png)

本概念类图较为简单，仅有用户和评论两个类。评论中回答id指评论所属的回答的id。

### 2.1.7 用户点赞/点踩

下图为用户点赞/点踩用例的概念类图，描述了用户点赞/点踩用例中的各个概念类的关系。目的是发现用户点赞/点踩用例的各个对象，并建立对象之间的关联。

![7-用户点赞点踩-概念类图](.\UML图\概念类图\7-用户点赞点踩-概念类图.png)

用户对某一回答进行点赞/点踩时，回答类的点赞数与点踩数相应增加。用户可以对多个回答进行点赞/点踩，回答也可以被多个用户进行点赞/点踩。

### 2.1.8 回答问题

下图为回答问题用例的概念类图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/8-%E5%9B%9E%E7%AD%94%E9%97%AE%E9%A2%98-%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)

描述了回答问题用例中的各个概念类的关系。如图所示，由用户编辑回答内容，审核系统对回答内容进行初步审核。

### 2.1.9 审核问题/回答

下图为审核问题/回答用例的概念类图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/9-%E5%AE%A1%E6%A0%B8%E9%97%AE%E9%A2%98-%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)

描述了审核问题/回答用例中的各个概念类的关系。如图所示，审核人员审核问题并对相应审核标准做标记。

### 2.1.10 创建回答仓库

下图为创建回答仓库用例的概念类图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/10-%E5%88%9B%E5%BB%BA%E5%9B%9E%E7%AD%94%E4%BB%93%E5%BA%93-%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)

描述了创建回答仓库用例中的各个概念类的关系。如图所示，由用户创建回答仓库并编辑其中的回答内容，有部分与回答问题用例相似。

### 2.1.11 维护回答仓库

下图为维护回答仓库用例的概念类图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/11-%E7%BB%B4%E6%8A%A4%E5%9B%9E%E7%AD%94%E4%BB%93%E5%BA%93-%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)

描述了维护回答仓库用例中的各个概念类的关系。如图所示，维护回答仓库主要有合并请求与历史版本两部分功能组成。

### 2.1.12 提出合并请求

下图为提出合并请求用例的概念类图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE/12-%E6%8F%90%E5%87%BA%E5%90%88%E5%B9%B6%E8%AF%B7%E6%B1%82-%E6%A6%82%E5%BF%B5%E7%B1%BB%E5%9B%BE.png)

描述了提出合并请求用例中各个概念类的关系。如图所示，由用户发起合并请求，并完成对合并请求中内容的编辑，需要注意用户编辑内容是以回答仓库仓库中的当前内容为基础进行编辑。

### 2.1.13 查看个人中心

下图为**查看个人中心**用例的概念图，描述了用户与个人信息概念类的关系。

![](https://lxzs-img.oss-cn-beijing.aliyuncs.com/img/20210122102749.png)

用户可以查看/修改个人信息

### 2.1.14 管理个人收益

下图为**管理个人收益**的概念类图，描述了用户与个人收益概念类的关系

![](https://lxzs-img.oss-cn-beijing.aliyuncs.com/img/20210122102820.png)

用户可以查看个人收益，也可以提现

### 2.1.15 查看历史回答

下图为**查看历史回答**的概念类图，描述了用户与历史回答列表、回答类的关系。

![](https://lxzs-img.oss-cn-beijing.aliyuncs.com/img/20210122102839.png)

用户可以浏览自己过去回答的问题

### 2.1.16 注册会员

下图为**注册会员**用例概念类图，描述了用户与会员概念类的关系。

![](https://lxzs-img.oss-cn-beijing.aliyuncs.com/img/20210122102902.png)

用户可以注册会员，支付订单

## 2.2. 详细用例的顺序图与状态图

### 2.2.1. 用户提问

**顺序图**

下图为**用户提问**的顺序图，说明了用户提问用例过程中用户和系统之间的交互行为。

![](https://zzn-normal.oss-cn-beijing.aliyuncs.com/Pics/1-%E7%94%A8%E6%88%B7%E6%8F%90%E9%97%AE-%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)

用户可以在过程中随时取消提问，注意问题发布后不可在编辑问题内容。

**状态图**

下图为**用户提问**的状态图，说明了用户提问用例过程中系统状态转换的情况，

![](https://zzn-normal.oss-cn-beijing.aliyuncs.com/Pics/1-%E7%94%A8%E6%88%B7%E6%8F%90%E9%97%AE-%E7%8A%B6%E6%80%81%E5%9B%BE.png)

用户的编辑状态转移到发布状态后不可回退。

### 2.2.2. 问题搜索

**顺序图**

下图为**问题搜索**的顺序图，说明了问题搜索用例过程中用户和系统之间的交互行为。

![](https://zzn-normal.oss-cn-beijing.aliyuncs.com/Pics/2-%E7%94%A8%E6%88%B7%E6%90%9C%E7%B4%A2-%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)

系统会推荐搜索热榜并在用户编辑搜索内容过程中自动联想相应文本，用户发起搜索后显示相关问题列表。

**状态图**

下图为**问题搜索**的状态图，说明了问题搜索用例过程中系统状态转换的情况。

![](https://zzn-normal.oss-cn-beijing.aliyuncs.com/Pics/2-%E9%97%AE%E9%A2%98%E6%90%9C%E7%B4%A2-%E7%8A%B6%E6%80%81%E5%9B%BE.png)

用户在当前搜索完成后可返回重新搜索新内容。

### 2.2.3. 邀请用户回答

**顺序图**

下图为**邀请用户回答**的顺序图，说明了邀请用户回答用例过程中用户和系统之间的交互行为。

![](https://zzn-normal.oss-cn-beijing.aliyuncs.com/Pics/3-%E9%82%80%E8%AF%B7%E7%94%A8%E6%88%B7%E5%9B%9E%E7%AD%94-%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)

用户选择邀请对象后系统会自动发邀请消息给相应的用户。

**状态图**

下图为**邀请用户回答**的状态图，说明了邀请用户回答用例过程中系统状态转换的情况。

![](https://zzn-normal.oss-cn-beijing.aliyuncs.com/Pics/3-%E9%82%80%E8%AF%B7%E7%94%A8%E6%88%B7%E5%9B%9E%E7%AD%94-%E7%8A%B6%E6%80%81%E5%9B%BE.png)

用户可以不断邀请新的答主，每次邀请后可邀请答主列表会更新。

### 2.2.4. 自动生成回答

**顺序图**

下图为**自动生成回答**的顺序图，说明了自动生成回答用例过程中系统各模块之间的交互行为。

![](https://zzn-normal.oss-cn-beijing.aliyuncs.com/Pics/4-%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E5%9B%9E%E7%AD%94-%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)

系统会监测问题的等待时间，长时间无人回答后会向语料库发送请求，进行聚合整理并发布机器回答。

**状态图**

下图为**自动生成回答**的状态图，说明了自动生成回答用例过程中系统状态转换的情况。

![](https://zzn-normal.oss-cn-beijing.aliyuncs.com/Pics/4-%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E5%9B%9E%E7%AD%94-%E7%8A%B6%E6%80%81%E5%9B%BE.png)

问题无人回答状态可以被其他人回答或到时间后生成回答所转移。

### 2.2.5. 浏览回答

**顺序图**

下图为**浏览回答**的顺序图，说明了浏览回答用例过程中系统各模块之间的交互行为。

![5-浏览问答-顺序图](.\UML图\顺序图\5-浏览问答-顺序图.png)

用户按层次地请求问题列表、某一问题详细描述、某一回答详细描述。系统按用户的请求返回资源。

**状态图**

下图为**浏览回答**的状态图，说明了浏览回答用例过程中系统状态转换的情况。

![5-浏览问答-状态图](.\UML图\状态图\5-浏览问答-状态图.png)

用户可以按层次地浏览问题列表、问题详情、回答详情。在回退时，只能逐层回退。

### 2.2.6. 用户评论

**顺序图**

下图为**用户评论**的顺序图，说明了用户评论用例过程中系统各模块之间的交互行为。

![6-用户评论-顺序图](.\UML图\顺序图\6-用户评论-顺序图.png)

用户在评论过程中可以随时结束评论。在用户发布评论后，系统提示发布成功。

**状态图**

下图为**浏览回答**的状态图，说明了浏览回答用例过程中系统状态转换的情况。

![6-用户评论-状态图](.\UML图\状态图\6-用户评论-状态图.png)

用户可以在编辑评论的状态时发起结束评论事件，取消评论发布。

### 2.2.7. 用户点赞/点踩 

**顺序图**

下图为**用户点赞/点踩**的顺序图，说明了用户点赞/点踩用例过程中系统各模块之间的交互行为。

![7-用户点赞点踩-顺序图](.\UML图\顺序图\7-用户点赞点踩-顺序图.png)

使用OCL的监护条件，当用户未点赞/点踩时，用户可以发出点赞/点踩请求。当用户已点赞/点踩时，用户可以发出取消点赞/点踩请求。

**状态图**

下图为**用户点赞点踩**用例的状态图，说明了用户点赞点踩用例过程中系统状态转换的情况。

![7-用户点赞点踩-状态图](.\UML图\状态图\7-用户点赞点踩-状态图.png)

使用OCL监护条件，当满足未点赞/点踩的条件时，可以发生“发起点赞/点踩”事件。当满足已点赞/点踩的条件时，可以发起“取消点赞/点踩”事件。

### 2.2.8. 回答问题

下图为**回答问题**的顺序图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E9%A1%BA%E5%BA%8F%E5%9B%BE/8-%E5%9B%9E%E7%AD%94%E9%97%AE%E9%A2%98-%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)

说明了回答问题用例过程中用户和系统之间的交互行为。系统会在回答通过初步审核后提交给审核人员进行审核。

下图为**回答问题**的状态图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E7%8A%B6%E6%80%81%E5%9B%BE/8-%E5%9B%9E%E7%AD%94%E9%97%AE%E9%A2%98-%E7%8A%B6%E6%80%81%E5%9B%BE.png)

说明了回答问题用例过程中系统状态转换的情况。

### 2.2.9. 审核问题/回答

下图为**审核问题/回答**的顺序图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E9%A1%BA%E5%BA%8F%E5%9B%BE/9-%E5%AE%A1%E6%A0%B8%E9%97%AE%E9%A2%98-%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)

说明了审核问题/回答用例过程中用户和系统之间的交互行为。系统会在审核结束后将审核结果通知用户，若通过会直接发布，不通过会要求用户修改后再次提交。

下图为**审核问题/回答**的状态图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E7%8A%B6%E6%80%81%E5%9B%BE/9-%E5%AE%A1%E6%A0%B8%E9%97%AE%E9%A2%98-%E7%8A%B6%E6%80%81%E5%9B%BE.png)

说明了审核问题/回答用例过程中系统状态转换的情况。

### 2.2.10. 创建回答仓库

下图为**创建回答仓库**的顺序图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E9%A1%BA%E5%BA%8F%E5%9B%BE/10-%E5%88%9B%E5%BB%BA%E5%9B%9E%E7%AD%94%E4%BB%93%E5%BA%93-%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)

说明了创建回答仓库用例过程中用户和系统之间的交互行为。

下图为**创建回答仓库**的状态图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E7%8A%B6%E6%80%81%E5%9B%BE/10-%E5%88%9B%E5%BB%BA%E5%9B%9E%E7%AD%94%E4%BB%93%E5%BA%93-%E7%8A%B6%E6%80%81%E5%9B%BE.png)

说明了创建回答仓库用例过程中系统状态转换的情况。

### 2.2.11. 维护回答仓库

下图为**维护回答仓库**的顺序图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E9%A1%BA%E5%BA%8F%E5%9B%BE/11-%E7%BB%B4%E6%8A%A4%E5%9B%9E%E7%AD%94%E4%BB%93%E5%BA%93-%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)

说明了维护回答仓库用例过程中用户和系统之间的交互行为。合并请求后的回答需要再次提交给审核人员审核，通过后才可以发布。

下图为**维护回答仓库**的状态图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E7%8A%B6%E6%80%81%E5%9B%BE/11-%E7%BB%B4%E6%8A%A4%E5%9B%9E%E7%AD%94%E4%BB%93%E5%BA%93-%E7%8A%B6%E6%80%81%E5%9B%BE.png)

说明了维护回答仓库用例过程中系统状态转换的情况。

### 2.2.12. 提出合并请求

下图为**提出合并请求**的顺序图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E9%A1%BA%E5%BA%8F%E5%9B%BE/12-%E5%8F%91%E8%B5%B7%E5%90%88%E5%B9%B6%E8%AF%B7%E6%B1%82-%E9%A1%BA%E5%BA%8F%E5%9B%BE.png)

说明了提出合并请求用例过程中用户和系统之间的交互行为。合并请求的回答是在原先仓库的内容上进行编辑，且发起的合并请求内容无需进行审核人员审核即可被看到。

下图为**提出合并请求**的状态图

![](https://burger-of-bob.oss-cn-shanghai.aliyuncs.com/%E9%9C%80%E6%B1%82/%E7%8A%B6%E6%80%81%E5%9B%BE/12-%E6%8F%90%E5%87%BA%E5%90%88%E5%B9%B6%E8%AF%B7%E6%B1%82-%E7%8A%B6%E6%80%81%E5%9B%BE.png)

说明了提出合并请求用例过程中系统状态转换的情况。

### 2.2.13. 查看个人中心

**顺序图**

下图为**查看个人中心**的顺序图，体现用户和系统之间的交互行为。

![](https://lxzs-img.oss-cn-beijing.aliyuncs.com/img/20210122103153.png)

可以选择查看/修改个人信息

**状态图**

下图为**查看个人中心**的状态图，说明系统状态转换的情况。

![](https://lxzs-img.oss-cn-beijing.aliyuncs.com/img/20210122103306.png)

查看/修改个人信息

### 2.2.14. 管理个人收益

**顺序图**

下图为**管理个人收益**的顺序图。

![](https://lxzs-img.oss-cn-beijing.aliyuncs.com/img/20210122103212.png)

查看个人收益，提现。

**状态图**

下图为**问题搜索**的状态图。

![](https://lxzs-img.oss-cn-beijing.aliyuncs.com/img/20210122103326.png)

查看个人收益，提现。

### 2.2.15. 查看历史回答

**顺序图**

下图为**查看历史回答**的顺序图。

![](https://lxzs-img.oss-cn-beijing.aliyuncs.com/img/20210122103233.png)

查看用户过去的回答

**状态图**

下图为**查看历史回答**的状态图。

![](https://lxzs-img.oss-cn-beijing.aliyuncs.com/img/20210122103318.png)

查看用户过去的回答

### 2.2.16. 注册会员

**顺序图**

下图为**注册会员**的顺序图。

![](https://lxzs-img.oss-cn-beijing.aliyuncs.com/img/20210122103244.png)

用户注册会员，支付订单。

**状态图**

下图为**注册会员**的状态图。

![](https://lxzs-img.oss-cn-beijing.aliyuncs.com/img/20210122103346.png)

用户可以注册会员，支付订单。

# 3. 需求跟踪矩阵

## 3.1. 需求列表

### 3.1.1. 业务需求

| 编号 | 描述                                      |
| ---- | ----------------------------------------- |
| BR1  | 项目上线六个月后，用户数量可以达到十万    |
| BR2  | 用户提出问题后，在一天内可以得到回复      |
| BR3  | 项目上线六个月后，会员比例可以达到30%左右 |
| BR4  | 大约百分之10的答案会有专家认证            |

### 3.1.2. 用户需求

UR1: 用户可以提出问题

SR1: 

1. 系统允许用户提出问题
2. 系统允许用户取消提问



UR2:用户可以搜索问题

SR2：

1. 系统允许用户通过搜索框搜索问题
2. 用户回车/点击搜索后返回相关问题



UR3:用户可以邀请其他用户回答

SR3:

1. 系统允许用户邀请其他用户回答问题
2. 系统允许一键邀请其他用户



UR4:自动生成回答

SR4:

1. 系统可以发现长时间未被回答的问题
2. 系统可以根据关键词生成回答



UR5:用户可以浏览回答

SR5：

1. 系统允许用户浏览回答列表
2. 系统允许用户选择回答查看具体内容



UR6:用户可以评论其他人的答案

SR6：

1. 系统允许用户对回答进行评论
2. 系统允许用户对回答进行回复



UR7:用户可以对回答点赞/点踩

SR7:

1. 系统允许用户对回答点赞/点踩
2. 系统允许用户取消赞/踩



UR8:用户可以回答问题

SR8：

1. 系统允许用户选择问题进行回答
2. 系统允许用户保存回答草稿
3. 系统允许用户放弃回答



UR9:审核问题/回答

SR9：

1. 系统对提出的问题/回答进行审核
2. 系统可以更新审核状态



UR10:用户可以创建回答仓库

SR10:

1. 系统允许用户创建回答仓库



UR11:用户可以维护回答仓库

SR11:

1. 系统允许用户接收/拒绝合并
2. 系统允许用户删除仓库



UR12:用户可以提出合并请求

SR12：

1. 系统允许用户向仓库提交合并请求



UR13:用户可以查看个人中心

SR13:

1. 系统允许用户查看个人信息
2. 系统允许用户修改个人信息



UR14:用户可以管理个人收益

SR14:

1. 系统允许用户产看个人收益
2. 系统允许用户提现



UR15:用户可以查看历史回答

SR15：

1. 系统允许用户查看历史回答



UR16:用户可以注册会员

SR16:

1. 系统允许用户申请注册会员
2. 系统允许用户放弃注册

## 3.2. 跟踪矩阵

| 需求编号 | 需求类别 | 需求来源 | 具有难度 | 可行性 | 风险 | 改善产品功能 | 改善产品性能 | 增加用户满意度 | 增加产品竞争力 | 是否实现 | 优先级 | 未实现原因 | 是否出现需求变更 | 变更基线 | 变更记录 |
| -------- | -------- | -------- | -------- | ------ | ---- | ------------ | ------------ | -------------- | -------------- | -------- | ------ | ---------- | ---------------- | -------- | -------- |
| BR1      | 业务需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| BR2      | 业务需求 | 客户     | 是       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| BR3      | 业务需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| BR4      | 业务需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| UR1      | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| SR1      | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| UR2      | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| SR2      | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| UR3      | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| SR3      | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| UR4      | 用户需求 | 客户     | 是       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 低     |            | 否               |          |          |
| SR4      | 系统需求 | 客户     | 是       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 低     |            | 否               |          |          |
| UR5      | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| SR5      | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| UR6      | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| SR6      | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| UR7      | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| SR7      | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| UR8      | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| SR8      | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| UR9      | 用户需求 | 客户     | 是       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| SR9      | 系统需求 | 客户     | 是       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| UR10     | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| SR10     | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| UR11     | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| SR11     | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| UR12     | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| SR12     | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| UR13     | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| SR13     | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| UR14     | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| SR14     | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| UR15     | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| SR15     | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 高     |            | 否               |          |          |
| UR16     | 用户需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |
| SR16     | 系统需求 | 客户     | 否       | 可行   | 无   | 是           | 否           | 是             | 是             | 是       | 中     |            | 否               |          |          |



# 4. 软件需求规格说明

## 4.1. 引言

### 4.1.1. 目的

本文档是对懂知帝平台的需求规格说明，本文档将供用户方和系统开发团队使用。

### 4.1.2. 范围

在当下知识分享应用“用户下沉”的趋势中，衍生出泛娱乐化严重、知识专业度欠缺、用户群体鱼龙混杂等问题。懂知帝重视专业度和领域细分的商业应用。能够弥补高专业度知识问答、知识分享市场的份额。

### 4.1.3. 参考文献

【1】需求工程：软件建模与分析，骆斌、丁二玉，高等教育出版社，2009-04-01，ISBN：9787040262957
【2】软件工程与计算（卷二）：软件开发的基础，骆斌，机械工业出版社，2012-12-01，ISBN：9787111407508

## 4.2. 总体描述

### 4.2.1. 产品前景

#### 4.2.1.1. 应用背景

在当下知识分享应用“用户群体下沉”的趋势中，逐渐衍生出了平台泛娱乐化严重，提问与回答的专业程度越来越低，用户群体鱼龙混杂等各种问题。在这种情况下，越来越多的用户渴望有一个高专业度的知识分享、问答平台。

#### 4.2.1.2. 业务机遇

正如前面所说，目前市场上主流的知识分享型应用都在努力尝试“用户下沉”，这就一定程度上导致了平台内容的水化以及平台氛围的恶化。这些平台的泛娱乐化趋势受到了许多老用户的诟病，“懂知帝”的高专业化正好可以抓住这部分用户的需求。同时，其他的高专业度问答平台都专注于一个领域，用户群体增长缓慢，还有很大的市场空间可供争取。

一方面，我们通过AI审核以及人工审核的方式，保证平台问题与回答的高专业性，避免平台的娱乐气息严重。同时邀请领域专家回答问题，多用户协同回答来保证回答的准确度，营造整个平台的知识分享氛围，以此来吸引更多的用户入驻平台。

另一方面，我们还与各大公司展开合作，向他们提供猎头服务，帮助他们发现各个领域中的高专业人才。平台也可从中获取一定收益。

#### 4.2.1.3. 业务需求

| 编号 | 描述                                      |
| ---- | ----------------------------------------- |
| BR-1 | 项目上线六个月后，用户数量可以达到十万    |
| BR-2 | 用户提出问题后，在一天内可以得到回复      |
| BR-3 | 项目上线六个月后，会员比例可以达到30%左右 |
| BR-4 | 大约百分之10的答案会有专家认证            |

### 4.2.2. 产品功能

“懂知帝”知识问答平台致力于高专业性知识分享，在当今知识分享应用向“泛娱乐化”方向发展的情况下，为各个专业领域的用户提供专业问答、AI协助问答与审核的服务，发展鼓励知识分享，改善知识分享中的泛娱乐化氛围，节约获取知识成本的价值主张，打造一个高效获取、分享专业知识的平台。

### 4.2.3. 用户特征

- 提问者
  - 通过平台获取某个专业问题的专业解答，节约时间，提升自己的专业水平，关注问题的全面性、正确性、时效性
- 回答者
  - 具有相关专业知识技能的某领域专家，通过回答问题的方式获取业内声望、认同感以及进行知识变现，关注于成就感和收益
- 猎头公司
  - 猎头公司希望借助平台的高知客户群体进行有针对性的人才获取以及自身推广，关注信息质量和推广质量
- 审核人员&运营团队
  - 负责维护平台的高专业性，避免泛娱乐化，关注审核系统的便捷性
- 学术组织
  - 他们关注平台的知识专业性和领域覆盖率，同时也会促进平台专业性的提升

### 4.2.4. 约束

| 编号 | 描述                                     |
| ---- | ---------------------------------------- |
| CO-1 | 需要符合互联网平台管理运营相关法规       |
| CO-2 | 需要提供与第三方平台的接口（QQ、微信等） |
| CO-3 | 支持访客数量级突变的弹性访问方案         |

### 4.2.5. 假设和依赖

#### 4.2.5.1. 假设

| 编号 | 描述                                   |
| ---- | -------------------------------------- |
| AS-1 | 用户在联网情况下使用产品               |
| AS-2 | 用户具有较高的专业水平和问题描述能力   |
| AS-3 | 用户的问答行为会为猎头公司决策提供帮助 |

#### 4.2.5.2. 系统依赖

| 编号 | 描述                                     |
| ---- | ---------------------------------------- |
| DE-1 | 系统的服务器托管于第三方云服务提供商     |
| DE-2 | 系统的打赏和付费需要与第三方支付平台集成 |
| DE-3 | 系统的自动回答功能依赖开源NLP模块        |

## 4.3. 详细需求描述

### 4.3.1. 对外接口需求

#### 4.3.1.1. 用户界面

界面风格：本系统采用图形用户界面，界面风格冷色清爽

界面布局：界面布局整齐，直观便捷，整体可参考“知乎”APP

**Part1：用户移动端APP界面**

| 编号 | 界面     | 描述                                                |
| ---- | -------- | --------------------------------------------------- |
| UI-1 | 登录界面 | 用户输入账户密码登入                                |
| UI-2 | 关注界面 | 显示关注用户的相关问答                              |
| UI-3 | 推荐页面 | 根据用户浏览记录进行相关问答推荐                    |
| UI-4 | 分类界面 | 用户可以选择不同种类的问答进行浏览                  |
| UI-5 | 会员页面 | 会员功能页面，包括充值和优先回答权益                |
| UI-6 | 消息页面 | 用户收到的消息列表和系统通知消息列表                |
| UI-7 | 个人页面 | 用户个人中心，包括历史记录，个人信息等              |
| UI-8 | 问答页面 | 详细的问题-回答展示页面，包括回答仓库管理和邀请回答 |

**Part2：审核&运营Web界面**

| 编号  | 界面         | 描述                               |
| ----- | ------------ | ---------------------------------- |
| UI-9  | 问题审核页面 | 进行问题审核和修改                 |
| UI-10 | 回答审核页面 | 进行回答审核和修改                 |
| UI-11 | 举报处理页面 | 处理用户投诉和据包                 |
| UI-12 | 系统推送页面 | 向用户进行系统消息的推送和公告管理 |

**Part3：合作公司数据分析Web界面**

| 编号  | 界面         | 描述                       |
| ----- | ------------ | -------------------------- |
| UI-13 | 猎头页面     | 展示不同领域人才排行榜     |
| UI-14 | 数据分析页面 | 展示不同问题的热度和讨论数 |

#### 4.3.1.2. 软件接口

| 编号 | 描述                            |
| ---- | ------------------------------- |
| SI-1 | 使用MySQL作为底层数据库存储数据 |
| SI-2 | 使用Linux服务器                 |
| SI-3 | 使用SpringCloud框架搭建         |

#### 4.3.1.3. 硬件接口

无

#### 4.3.1.4. 通信接口

| 编号 | 描述                 |
| ---- | -------------------- |
| CI-1 | 采用HTTP传输规范     |
| CI-2 | 传输数据以json格式化 |

### 4.3.2. 功能需求

#### 4.3.2.1. 用户提问

##### 4.3.2.1.1. 刺激响应序列

```
刺激：用户请求发起提问
响应：系统返回问题模板，并提示用户填写问题描述和问题分类

刺激：用户编辑问题描述和问题分类
响应：系统显示问题预览

刺激：用户发布提问
响应：系统显示新发布的问题

刺激：用户取消提问
响应：系统返回上一级页面
```

##### 4.3.2.1.2. 相关功能需求

| 编号                   | 需求描述     |
| ---------------------- | ------------ |
| Question.Create        | 创建提问     |
| Question.Create.Edit   | 编辑提问内容 |
| Question.Create.Submit | 发布提问     |
| Question.Create.Cancel | 取消提问     |

#### 4.3.2.2. 问题搜索

##### 4.3.2.2.1. 刺激响应序列

```
刺激：用户请求搜索问题
响应：系统显示搜索框并显示近期热门搜索内容

刺激：用户编辑搜索框内容
响应：系统根据搜索框内容返回相关文本联想

刺激：用户搜索问题
响应：系统以列表形式显示相关问题

刺激：用户取消搜索
响应：系统返回上一级页面
```

##### 4.3.2.2.2. 相关功能需求

| 编号                      | 需求描述                   |
| ------------------------- | -------------------------- |
| Question.Search           | 搜索问题                   |
| Toplist.Show              | 展示近期热榜               |
| Question.Search.Edit      | 编辑搜索框                 |
| Question.Search.Associate | 根据输入内容联想文本       |
| Question.Search.Show      | 以列表形式展示搜索问题结果 |
| Question.Search.Cancel    | 取消搜索                   |

#### 4.3.2.3. 邀请用户回答

##### 4.3.2.3.1. 刺激响应序列

```
刺激：用户请求邀请其他答主回答问题
响应：系统根据问题类型返回可以选择的答主列表

刺激：用户选择响应答主并邀请回答
响应：系统向相应回答者发送邀请回答信息并更新可选择答主列表

刺激：用户选择自动邀请回答者
响应：系统自动按一定规则选取一些用户发送邀请回答信息

刺激：用户取消邀请用户
响应：系统退出邀请并返回问题详情页面
```

##### 4.3.2.3.2. 相关功能需求

| 编号                       | 需求描述               |
| -------------------------- | ---------------------- |
| Question.Invite            | 邀请用户回答           |
| Question.Invite.List       | 列表形式展示可邀请用户 |
| Question.Invite.Select     | 选择待邀请用户         |
| Question.Invite.Message    | 发送邀请信息           |
| Question.Invite.Autoinvite | 自动邀请用户回答       |
| Question.Invite.Cancel     | 取消邀请用户回答问题   |

#### 4.3.2.4. 自动生成回答

##### 4.3.2.4.1. 刺激响应序列

```
刺激：问题一定时间内无人回答计时器到期
响应：系统整理并收集语料，按照回答模板进行整理并发布

刺激：问题计时器到期之前被其他用户回答
响应：系统更新响应问题的计数器
```

##### 4.3.2.4.2. 相关功能需求

| 编号                | 需求描述           |
| ------------------- | ------------------ |
| Question.Clock      | 问题无人回答计时器 |
| Question.Autoanswer | 自动生成回答       |

#### 4.3.2.5. 浏览回答

##### 4.3.2.5.1. 刺激响应序列

```
刺激：用户请求浏览问答
响应：系统根据推荐算法，返回问题列表

刺激：用户选择某一问题
响应：系统返回问题的详细描述

刺激：用户选择某一回答
响应：系统返回回答的详细描述
```

##### 4.3.2.5.2. 相关功能需求

| 编号                  | 需求描述                           |
| --------------------- | ---------------------------------- |
| QA.Input              | 系统允许用户进行鼠标/触摸点击输入  |
| QA.Input.QuestionList | 系统允许用户请求浏览问题列表       |
| QA.Input.Question     | 系统允许用户请求浏览问题详细描述   |
| QA.Input.Answer       | 系统允许用户请求浏览回答详细描述   |
| QA.QuestionList.Show  | 系统根据推荐算法返回问题列表       |
| QA.Question.Show      | 系统根据用户请求，显示问题详细描述 |
| QA.Answer.Show        | 系统根据用户请求，显示回答详细描述 |

#### 4.3.2.6. 用户评论

##### 4.3.2.6.1. 刺激响应序列

```
刺激：用户请求评论某一回答
响应：系统显示评论编辑页面

刺激：用户请求发布评论
响应：系统提示发布成功，并显示评论区页面
```

##### 4.3.2.6.2. 相关功能需求

| 编号                  | 需求描述                                |
| --------------------- | --------------------------------------- |
| Comment.Input         | 系统允许用户进行键盘、鼠标/触摸点击输入 |
| Comment.Input.Request | 系统允许用户请求评论某一回答            |
| Comment.Input.Edit    | 系统允许用户编辑评论                    |
| Comment.Input.Send    | 系统允许用户发布评论                    |
| Comment.Edit.Show     | 系统显示评论编辑界面                    |
| Comment.Send.Update   | 系统更新评论区内容                      |
| Comment.Send.Success  | 系统显示发布成功                        |

#### 4.3.2.7. 用户点赞/点踩 

##### 4.3.2.7.1. 刺激响应序列

```
刺激：用户请求对某一回答点赞
响应：系统进行点赞计数，并显示点赞成功

刺激：用户请求对某一回答点踩
响应：系统进行点踩计数，并显示点踩成功

刺激：用户请求取消对某一回答的点赞
响应：系统进行点赞计数，并显示取消成功

刺激：用户请求取消对某一回答的点踩
响应：系统进行点踩计数，并显示取消成功
```

##### 4.3.2.7.2. 相关功能需求

| 编号                    | 需求描述                           |
| ----------------------- | ---------------------------------- |
| Like.Input              | 系统允许用户进行鼠标/触摸点击输入  |
| Like.Input.Like         | 系统允许用户进行点赞               |
| Like.Input.Unlike       | 系统允许用户进行点踩               |
| Like.Input.CancelLike   | 系统允许用户取消点赞               |
| Like.Input.CancelUnlike | 系统允许用户取消点踩               |
| Like.Like.Show          | 系统根据用户是否点赞，显示点赞状态 |
| Like.Unlike.Show        | 系统根据用户是否点踩，显示点踩状态 |
| Like.Like.Response      | 在用户点赞时，系统显示点赞成功     |
| Like.Unlike.Response    | 在用户点踩时，系统显示点踩成功     |
| Like.CancelLike         | 在用户取消点赞时，系统显示取消成功 |
| Like.CancelUnlike       | 在用户取消点踩时，系统显示取消成功 |

#### 4.3.2.8. 回答问题

##### 4.3.2.8.1. 刺激响应序列

```
刺激：用户选择回答问题
响应：系统显示答案编辑页面

刺激：用户输入或删除内容
响应：系统显示用户输入的答案

刺激：用户选择提交答案
响应：系统对用户的答案进行初步审核

刺激：用户的回答未通过审核
响应：系统显示回答编辑界面并突出显示审核中不合规的部分

刺激：用户的回答通过初步审核
响应：系统将回答提交给审核人员进行审核

刺激：用户中途放弃回答问题
响应：系统询问用户是否要保存回答草稿

刺激：用户选择保存草稿
响应：系统保存用户本次回答内容
```

##### 4.3.2.8.2. 相关功能需求

| 编号                   | 需求描述                                                     |
| ---------------------- | ------------------------------------------------------------ |
| Question.Answer        | 系统允许用户回答问题                                         |
| Question.Answer.Input  | 系统允许用户进行键盘输入                                     |
| Question.Answer.Edit   | 系统允许用户对回答进行编辑，例如对齐等                       |
| Question.Answer.Show   | 系统会显示用户输入的回答内容                                 |
| Question.Answer.Cancel | 系统允许用户中途放弃回答问题                                 |
| Question.Answer.Draft  | 在用户放弃回答问题时，系统要询问用户是否保存草稿，参见Answer.Draft.* |
| Question.Answer.Submit | 系统允许用户提交回答                                         |
| Question.Answer.Audit  | 系统会对用户回答进行初步审核，参见Answer.Audit.*             |
| Answer.Draft.Save      | 系统要存储用户回答的草稿                                     |
| Answer.Draft.Show      | 在回答问题时，若有之前保存的草稿，系统应显示                 |
| Answer.Audit.Pass      | 用户回答通过初步审核，系统应将回答提交给审核人员审核         |
| Answer.Audit.Fail      | 用户回答为通过初步审核，系统发出提示并显示答案编辑界面       |
| Answer.Audit.Show      | 系统突出显示出用户回答中不合规的部分                         |

#### 4.3.2.9. 审核问题/回答

##### 4.3.2.9.1. 刺激响应序列

```
刺激：审核人员选择待审核问题/回答，开始审核
响应：系统显示被审核内容，并给出审核标准列表

刺激：审核人员标记某项审核标准通过/未通过，未通过需要给出理由
响应：系统改变审核标准列表的显示

刺激：审核人员选择提交审核结果
响应：系统检查是否所有标准都被审核

刺激：被审核内容通过审核
响应：系统提示回答者/提问者，并发表内容

刺激：被审核内容未通过审核
响应：系统提示回答者/提问者，要求其修改内容后重新提交
```

##### 4.3.2.9.2. 相关功能需求

| 编号                    | 需求描述                                         |
| ----------------------- | ------------------------------------------------ |
| Audit.List              | 系统会显示所有待审恶的问题/回答列表              |
| Audit.Select            | 系统允许审核人员选择列表中一个开始审恶           |
| Audit.Content           | 系统会显示被审核的内容                           |
| Audit.Rules             | 系统会显示审核的标准列表                         |
| Audit.Submit            | 系统允许审核人员提交审核结果                     |
| Audit.Submit.Incomplete | 审核标准列表没有完全标记，系统发出提示，继续审核 |
| Audit.Result.Pass       | 内容通过审核，系统提示用户并发表内容             |
| Audit.Result.Fail       | 内容未通过审核，系统提示用户进行修改             |
| Audit.Rules.Pass        | 审核人员标记通过标准                             |
| Audit.Rules.Fail        | 审核人员标记未通过标准，并给出理由               |
| User.Alert              | 系统可以向用户发送消息                           |

#### 4.3.2.10. 创建回答仓库

##### 4.3.2.10.1. 刺激响应序列

```
刺激：用户选择多人回答问题
响应：系统显示回答编辑界面

刺激：用户的回答通过初步审核
响应：系统创建一个回答仓库并将回答提交给审核人员进行审核
```

***注：***创建回答仓库中包含了部分回答问题的步骤，所以刺激响应序列省略了部分内容，请参见*4.3.2.8 回答问题*

##### 4.3.2.10.2. 相关功能需求

| 编号              | 需求描述                         |
| ----------------- | -------------------------------- |
| Question.CoAnswer | 系统允许用户选择多人协作回答问题 |
| Repository.Create | 系统允许创建回答仓库             |

#### 4.3.2.11. 维护回答仓库

##### 4.3.2.11.1. 刺激响应序列

```
刺激：用户选择选择查看自己的某个回答仓库
响应：系统显示回答仓库当前内容

刺激：用户选择更改回答
响应：系统显示回答编辑界面

刺激：用户选择查看回答仓库合并请求
响应：系统显示回答仓库合并请求列表

刺激：用户选择某个合并请求并查看
响应：系统显示合并请求与当前仓库中内容的不同

刺激：用户选择同意合并
响应：系统综合回答内容，进行初步审核

刺激：用户选择拒绝合并
响应：系统删除合并请求，并通知请求发起者

刺激：用户选择查看回答仓库历史版本
响应：系统显示回答仓库历史版本列表

刺激：用户选择查看某个历史版本
响应：系统显示历史版本与当前版本的不同

刺激：用户选择回溯历史版本
响应：系统更新答案仓库内容至历史版本，并删除之后的版本记录
```

##### 4.3.2.11.2. 相关功能需求

| 编号                      | 需求描述                                                     |
| ------------------------- | ------------------------------------------------------------ |
| Repository.Check          | 系统允许用户查看自己的回答仓库                               |
| Repository.Content.Show   | 系统显示回答仓库中的内容                                     |
| Repository.Content.Edit   | 系统允许用户修改回答仓库中的回答                             |
| Repository.Request        | 系统允许用户查看回答仓库的合并请求，参见Repository.Request.* |
| Repository.History        | 系统允许用户查看回答仓库的历史版本，参见Repository.History.* |
| Repository.Request.List   | 系统以列表形式显示所有合并请求                               |
| Repository.Request.Diff   | 系统对比显示合并请求与当前仓库内容的不同之处                 |
| Repository.Request.Merge  | 系统合并当前内容与请求内容，并提交审恶                       |
| Repository.Request.Delete | 系统删除合并请求                                             |
| Repository.History.List   | 系统以列表形式显示所有历史版本                               |
| Repository.History.Diff   | 系统对比显示历史版本与当前版本的不同之处                     |
| Repository.History.Back   | 系统回溯至历史版本，并删除之后的历史版本                     |

#### 4.3.2.12. 提出合并请求

##### 4.3.2.12.1. 刺激响应序列

```
刺激：用户选择发起合并请求
响应：系统显示回答编辑界面以及当前仓库中的回答内容

刺激：用户选择提交合并请求
响应：系统向目标仓库中增加一条合并请求

刺激：用户中途推出编辑回答
响应：系统不保存草稿，直接返回仓库界面
```

##### 4.3.2.12.2. 相关功能需求

| 编号           | 需求描述                               |
| -------------- | -------------------------------------- |
| Request.Start  | 用户选择发起合并请求                   |
| Request.Edit   | 系统允许用户在当前回答的基础上进行编辑 |
| Request.Add    | 系统向回答仓库中增加一条合并请求       |
| Request.Cancel | 系统不保存草稿，直接返回仓库界面       |

#### 4.3.2.13. 查看个人中心

##### 4.3.2.13.1. 刺激响应序列

```
刺激：用户选择查看个人中心
响应：返回用户信息

刺激：用户选择修改个人信息
响应：系统保持修改
```

##### 4.3.2.13.2. 相关功能需求

| 编号      | 需求描述             |
| --------- | -------------------- |
| User.Info | 用户选择查看个人信息 |
| User.Edit | 用户选择修改个人信息 |

#### 4.3.2.14. 管理个人收益

##### 4.3.2.14.1. 刺激响应序列

```
刺激：用户选择查看收益信息
响应：系统返回收益详情

刺激：用户选择提现
响应：系统提现更新余额
```

##### 4.3.2.14.2. 相关功能需求

| 编号          | 需求描述         |
| ------------- | ---------------- |
| Earn.Check    | 用户查看个人收益 |
| Earn.Withdraw | 用户提现         |

#### 4.3.2.15. 查看历史回答

##### 4.3.2.15.1. 刺激响应序列

```
刺激：用户选择产看历史回答
响应：系统返回历史回答列表
```

##### 4.3.2.15.2. 相关功能需求

| 编号         | 需求描述         |
| ------------ | ---------------- |
| Answer.Check | 用户查看历史回答 |

#### 4.3.2.16. 注册会员

##### 4.3.2.16.1. 刺激响应序列

```
刺激：用户请求注册会员
响应：系统返回支付选择

刺激：用户支付订单
响应：系统更新用户会员状态
```

##### 4.3.2.16.2. 相关功能需求

| 编号         | 需求描述 |
| ------------ | -------- |
| VIP.register | 注册会员 |
| VIP.pay      | 支付订单 |

### 4.3.3. 性能需求

* Performance1: Web页面的响应时间应该在2秒以内。
* Performance2: 产品可以支持至少1000名用户同时访问。

### 4.3.4. 约束

* IC1:  系统采用微服务架构、且支持web端和移动端
* IC2:  系统采用java语言开发
* IC3:  系统开发时长为60天
* IC4:   平台上发布的内容都应相关符合法律法规，出现问题后可以及时追踪到发言人。

### 4.3.5. 质量属性

#### 4.3.5.1 安全性

* Safety1: 系统按照用户身份验证用户的访问权限
* Safety2: 用户个人信息应加密存储，避免信息泄露
* Safety3: 系统中有一个默认的管理员账户，该账户拥有最高权限

#### 4.3.5.2 可维护性

* Modifiability1: 如果审核标准发生变化，可以在1个工作日内完成更新。
* Modifiability2: 如果用户需要新的功能，可以在5个工作日内完成更新。

#### 4.3.5.3 易用性

* Usability1: 软件中的字体大小，颜色都可以更换。
* Usability2: 回答编辑界面应该提供基本的排版功能。
* Usability3: 用户对完成一个完整的任意业务需要点击跳转的页面层数不能超过4层。
* Usability4: 在对比回答仓库内容的不同时，应使用醒目的颜色标注。
* Usability5: 在显示审核未通过的内容时，应使用醒目的颜色标注不符合规范的地方。

#### 4.3.5.4 可靠性

* Reliability1:在客户端与服务器通信时，如果网络故障，系统不能出现故障
  * Reliability1.1:客户端应该检测到故障，并尝试重新连接网络3次，每次15秒
    * Reliability1.1.1:如果重新连接成功，客户端应该继续之前的工作
    * Reliability1.1.2:如果重新连接不成功，客户端应该等待10分钟后尝试重新连接
      * Reliability1.1.2.1:重新连接成功后，客户端应该继续之前的工作
      * Reliability1.1.2.2:如果重新连接仍然不成功，客户端提示网络故障，关闭客户端

* Reliability2:用户数据需要有至少1份有效备份
* Reliability3:数据存储故障后要在1天内能恢复

### 4.3.6. 其他需求

* Others1: 系统应提供一个简单的演示视频，讲解系统的主要功能。